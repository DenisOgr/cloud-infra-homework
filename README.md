# Cloud-infar-homework
Основна ідея домашнього завдання - створити сервіс, який виконує завдання, що вимагає ресурсів для роботи (завантажує CPU мінімум на 70%) та потребує масштабування. В якості сервісів, що можуть виконуватися можна взяти будь-які складні математичні обчислення, в тому числі з тематики машинного навчання, але не обов'язково. Наприклад - тренування класифікатора, або факторизація цілого числа, задача комівояжера і т.і. При цьому вітається повторне використання програмного коду, в тому числі отриманого із відкритих джерел із зазначенням посилання на автора (вирішення самої задачі не має бути точкою фокусування уваги студента).

Обов'язково повинен бути елементарний інтерфейс для запуску функції обчислення  та результат такого обчислення. Складність підібрати таким чином. щоб один виклик сервісу виконувався від 5 до 10 хвилин, або могла задаватися користувачем (щоб уникнути "вічних" обчислень, або секундних пікових завантажень)   

### Критерії оцінювання:

1. Сервіс та докерфайл, або посилання на репозиторій з файлом-образом, з інструкцією як запускати - 60 балів.

2. Скрипти YAML для завантаження в Kubernetes,  - 5 балів.

3. Bash скрипт, який інсталює сервіс в MiniKube автоматично - 5 балів.

4. Kubernetes Readiness check + Liveness check - 5 балів.

5. Bash скрипт для локального деплою в minikube (без хмарного реєстру контейнерів) - 5 балів

6. Здати завдання (будь-яка кількість виконаних пунктів) достроково, до 23:59, 16 березня - 5 балів

7. Реалізувати Memory scaling (імітувати задачу, що потребує багато пам'яті і вирішити проблему масштабування у випадку досягнення критичного розміру по використанню пам'яті) - до 5 - 15 балів

You need to copy `.env.dist` file to `.env`:
~~~bash
cp .env.dist .env
~~~

# Solution
#### Build service (docker image):
```
docker build . -t denisog/homework-load-cpu:0.2
```

#### Run service:
```
docker run  -d --rm -p 8080:5000 denisog/homework_load_cpu:0.2
```

#API
#### RUN loading:
Default time 10 sec. You can change it using `/run/<number of sec>`.

```
curl 0.0.0.0:8080/run/5
```
#### STATUS service
```
curl 0.0.0.0:5000/status
```
